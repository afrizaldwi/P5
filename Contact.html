<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- font awesome -->
		<script
			src="https://kit.fontawesome.com/8b42185fc0.js"
			crossorigin="anonymous"></script>
		<link rel="stylesheet" href="style.css" />
		<title>Website P5 TKJ</title>
	</head>
	<body>
		<nav>
			<div class="nav-brand">
				<img src="./assets/img/logo-tkj.png" alt="brand" width="62" />
				<a href="index.html">tkj</a>
			</div>
			<a href="#" class="navbar-collapse" id="navbarCollapse">
				<i class="fa-solid fa-bars fa-lg"></i>
			</a>
			<ul class="navbar-nav" id="navbarNav">
				<li class="navbar-item">
					<a href="./index.html" class="navbar-link">Home</a>
				</li>
				<li class="navbar-item">
					<a href="./About.html" class="navbar-link">About</a>
				</li>
				<li class="navbar-item active">
					<a href="./Contact.html" class="navbar-link">Contact</a>
				</li>
			</ul>
		</nav>
		<section id="contact">
			<div class="contact-info">
				<h2 class="text-center">Contact</h2>
				<div class="contact-info-box">
					<div class="contact-info-item">
						<i class="fa-sharp fa-solid fa-house"></i>
						<a href="https://goo.gl/maps/1hvygmHmXSiHdyEh7" target="_blank"
							>SMKN 1 Cerme</a
						>
					</div>
					<div class="contact-info-item">
						<i class="fab fa-whatsapp fa-lg"></i>
						<a href="https://wa.me/6287112494125" target="_blank"
							>+62 856 3145 870</a
						>
					</div>
					<div class="contact-info-item">
						<i class="fa-regular fa-envelope fa-lg"></i>
						<a href="mailto:info@smkn1cermegresik.sch.id" target="_blank"
							>info@smkn1cermegresik.sch.id</a
						>
					</div>
				</div>
			</div>
			<div class="contact-message">
				<h2 class="text-center">Send your message</h2>
				<div class="alert d-none" id="alert" role="alert">
					<p><strong>Terima kasih! </strong>Pesan anda sudah kami terima</p>
					<i class="fa-solid fa-xmark fa-lg" id="exit"></i>
				</div>
				<div class="alert warning d-none" id="alert" role="alert">
					<p><strong>Maaf! </strong>Pesan anda tidak berhasil dikirim</p>
					<i class="fa-solid fa-xmark fa-lg" id="exit"></i>
				</div>
				<form name="contact-form">
					<input
						name="name"
						type="text"
						class="form-input"
						placeholder="Nama"
						autocomplete="off"
						required />
					<input
						name="email"
						type="email"
						class="form-input"
						autocomplete="off"
						placeholder="Email Address" />
					<textarea
						name="message"
						rows="5"
						placeholder="Your Message"></textarea>
					<div class="text-center">
						<input
							type="submit"
							value="send message"
							class="form-btn send-btn"
							id="btnKirim" />
						<button class="form-btn disable d-none" id="btnLoading" disabled>
							<i class="fa-solid fa-spinner fa-spin"></i>
						</button>
					</div>
				</form>
			</div>
		</section>
		<footer>
			<p>&copy; Copyright 2023 TKJ</p>
		</footer>

		<script src="script.js"></script>

		<script>
			const scriptURL =
				"https://script.google.com/macros/s/AKfycbzkr1IaURMGpfMMTzxsX_DJFwNmeUHUdi75t2TnsXrla5TkedcfC5NCBRioBOQdwalU/exec";
			const form = document.forms["contact-form"];

			const btnKirim = document.getElementById("btnKirim");
			const btnLoading = document.getElementById("btnLoading");
			const alert = document.getElementById("alert");
			const alertWarning = document.querySelector(".warning");

			form.addEventListener("submit", (e) => {
				e.preventDefault();

				btnKirim.classList.toggle("d-none");
				btnLoading.classList.toggle("d-none");
				fetch(scriptURL, { method: "POST", body: new FormData(form) })
					.then((response) => {
						alert.classList.toggle("d-none");
						btnKirim.classList.toggle("d-none");
						btnLoading.classList.toggle("d-none");

						form.reset();
						console.log("Success!", response);
					})
					.catch((error) => {
						alertWarning.classList.toggle("d-none");
						console.error("Error!", error.message);
					});
			});

			const exit = document.getElementById("exit");
			exit.addEventListener("click", () => {
				alert.classList.add("d-none");
			});
		</script>
	</body>
</html>
